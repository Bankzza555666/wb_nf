# ЁЯЪА р╕Др╕╣р╣Ир╕бр╕╖р╕нр╕Бр╕▓р╕г Deploy р╕Вр╕╢р╣Йр╕Щр╣Вр╕ор╕кр╕Ир╕гр╕┤р╕З

## тЬЕ р╕Вр╕▒р╣Йр╕Щр╕Хр╕нр╕Щр╕Чр╕╡р╣Ир╕Чр╕│р╣Ар╕кр╕гр╣Зр╕Ир╣Бр╕ер╣Йр╕з

1. тЬЕ р╕вр╣Йр╕▓р╕вр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕ер╕▒р╕Ър╣Др╕Ыр╣Др╕Яр╕ер╣М `.env`
2. тЬЕ р╕нр╕▒р╕Юр╣Ар╕Фр╕Х `config.php` р╣Гр╕лр╣Йр╕нр╣Ир╕▓р╕Щр╕Др╣Ир╕▓р╕Ир╕▓р╕Б `.env`
3. тЬЕ р╕кр╕гр╣Йр╕▓р╕З `.env.example` р╣Ар╕Ыр╣Зр╕Щ template
4. тЬЕ р╕кр╕гр╣Йр╕▓р╕З `.gitignore` р╕Ыр╣Йр╕нр╕Зр╕Бр╕▒р╕Щр╕Бр╕▓р╕гр╕нр╕▒р╕Юр╣Вр╕лр╕ер╕Фр╣Др╕Яр╕ер╣Мр╕кр╕│р╕Др╕▒р╕Н

---

## ЁЯУЛ Checklist р╕Бр╣Ир╕нр╕Щ Deploy

### 1. р╕Хр╕▒р╣Йр╕Зр╕Др╣Ир╕▓р╣Др╕Яр╕ер╣М .env р╕Ър╕Щр╣Вр╕ор╕кр╕Ир╕гр╕┤р╕З

р╕нр╕▒р╕Юр╣Вр╕лр╕ер╕Фр╣Др╕Яр╕ер╣Мр╣Вр╕Ыр╕гр╣Ар╕Ир╕Др╕Вр╕╢р╣Йр╕Щр╣Вр╕ор╕кр╣Бр╕ер╣Йр╕з **р╕кр╕гр╣Йр╕▓р╕Зр╣Др╕Яр╕ер╣М `.env` р╣Гр╕лр╕бр╣И** р╕Ър╕Щр╣Вр╕ор╕к (р╕нр╕вр╣Ир╕▓р╣Гр╕Кр╣Йр╣Др╕Яр╕ер╣Мр╕Ир╕▓р╕Бр╣Ар╕Др╕гр╕╖р╣Ир╕нр╕Зр╕Хр╕▒р╕зр╣Ар╕нр╕З):

```bash
# SSH р╣Ар╕Вр╣Йр╕▓р╣Др╕Ыр╕Чр╕╡р╣Ир╣Вр╕ор╕кр╣Бр╕ер╣Йр╕зр╕кр╕гр╣Йр╕▓р╕Зр╣Др╕Яр╕ер╣М
cd /path/to/your/website
cp .env.example .env
nano .env  # р╕лр╕гр╕╖р╕нр╣Гр╕Кр╣Й editor р╕Чр╕╡р╣Ир╕Кр╕нр╕Ъ
```

**р╕Хр╣Йр╕нр╕Зр╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щр╕Др╣Ир╕▓р╣Ар╕лр╕ер╣Ир╕▓р╕Щр╕╡р╣Й:**

```env
# р╕Рр╕▓р╕Щр╕Вр╣Йр╕нр╕бр╕╣р╕е - р╣Гр╕кр╣Ир╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Чр╕╡р╣Ир╣Вр╕ор╕кр╣Гр╕лр╣Йр╕бр╕▓
DB_HOST=localhost  # р╕лр╕гр╕╖р╕н IP р╕Чр╕╡р╣Ир╣Вр╕ор╕кр╣Гр╕лр╣Й
DB_USER=your_db_username
DB_PASS=your_strong_password
DB_NAME=your_database_name

# р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕зр╣Ир╕▓р╣Гр╕Кр╣Й SMTP р╕Цр╕╣р╕Бр╕Хр╣Йр╕нр╕З
SMTP_HOST=smtp.hostinger.com  # р╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щр╕Цр╣Йр╕▓р╣Гр╕Кр╣Йр╣Вр╕ор╕кр╕нр╕╖р╣Ир╕Щ
SMTP_USER=your_email@domain.com
SMTP_PASS=your_email_password
SMTP_PORT=465  # р╕лр╕гр╕╖р╕н 587 р╕Цр╣Йр╕▓р╣Гр╕Кр╣Й TLS

# API Keys - р╣Гр╕Кр╣Йр╕Др╣Ир╕▓р╣Ар╕Фр╕┤р╕бр╕лр╕гр╕╖р╕нр╕кр╕гр╣Йр╕▓р╕Зр╣Гр╕лр╕бр╣И
TELEGRAM_BOT_TOKEN=your_bot_token
TELEGRAM_CHAT_ID=your_chat_id
# ... р╕нр╕╖р╣Ир╕Щр╣Ж
```

### 2. Import р╕Рр╕▓р╕Щр╕Вр╣Йр╕нр╕бр╕╣р╕е

```bash
# р╕Ър╕Щр╣Вр╕ор╕кр╕Ир╕гр╕┤р╕З (р╕Ьр╣Ир╕▓р╕Щ SSH р╕лр╕гр╕╖р╕н phpMyAdmin)
mysql -u your_db_username -p your_database_name < as2.sql
```

р╕лр╕гр╕╖р╕нр╣Гр╕Кр╣Й **phpMyAdmin**:
1. р╕кр╕гр╣Йр╕▓р╕З Database р╣Гр╕лр╕бр╣И
2. Import р╣Др╕Яр╕ер╣М `as2.sql`

### 3. р╕Хр╕▒р╣Йр╕Зр╕Др╣Ир╕▓р╕кр╕┤р╕Чр╕Шр╕┤р╣Мр╣Др╕Яр╕ер╣М (Permissions)

```bash
# р╕Ър╕Щр╣Вр╕ор╕к Linux
chmod 755 -R .                    # р╣Вр╕Яр╕ер╣Ар╕Фр╕нр╕гр╣Мр╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Ф
chmod 644 *.php                   # р╣Др╕Яр╕ер╣М PHP
chmod 600 .env                    # р╣Др╕Яр╕ер╣М .env (р╕кр╕│р╕Др╕▒р╕Н!)
chmod 777 uploads/                # р╣Вр╕Яр╕ер╣Ар╕Фр╕нр╕гр╣Мр╕нр╕▒р╕Юр╣Вр╕лр╕ер╕Ф
chmod 777 logs/                   # р╣Вр╕Яр╕ер╣Ар╕Фр╕нр╕гр╣М log
```

### 4. р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ PHP Version

р╕Хр╣Йр╕нр╕Зр╣Гр╕Кр╣Й **PHP 7.4 р╕Вр╕╢р╣Йр╕Щр╣Др╕Ы** (р╣Бр╕Щр╕░р╕Щр╕│ PHP 8.0+)

```bash
php -v
```

### 5. р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ Extensions р╕Чр╕╡р╣Ир╕Хр╣Йр╕нр╕Зр╣Гр╕Кр╣Й

р╕Хр╣Йр╕нр╕Зр╕бр╕╡:
- `mysqli` р╕лр╕гр╕╖р╕н `pdo_mysql`
- `mbstring`
- `openssl`
- `curl`
- `json`
- `session`

```bash
php -m | grep -i mysqli
php -m | grep -i mbstring
```

---

## тЪая╕П р╕кр╕┤р╣Ир╕Зр╕Чр╕╡р╣Ир╕Хр╣Йр╕нр╕Зр╕гр╕░р╕зр╕▒р╕З

### 1. р╕нр╕вр╣Ир╕▓р╕нр╕▒р╕Юр╣Вр╕лр╕ер╕Фр╣Др╕Яр╕ер╣Мр╕Щр╕╡р╣Йр╕Вр╕╢р╣Йр╕Щ Git/Public:

```
.env                    # р╕Вр╣Йр╕нр╕бр╕╣р╕ер╕ер╕▒р╕Ъ!
.env.local
config.local.php
logs/*.log
uploads/*               # р╣Др╕Яр╕ер╣Мр╕Чр╕╡р╣И user р╕нр╕▒р╕Юр╣Вр╕лр╕ер╕Ф
backups/*.sql           # Backup р╕Рр╕▓р╕Щр╕Вр╣Йр╕нр╕бр╕╣р╕е
```

### 2. р╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щ API Keys р╕Чр╕╡р╣Ир╣Гр╕Кр╣Йр╕Зр╕▓р╕Щр╕Ир╕гр╕┤р╕З

р╕Др╕зр╕гр╕кр╕гр╣Йр╕▓р╕З API Keys р╣Гр╕лр╕бр╣Ир╕кр╕│р╕лр╕гр╕▒р╕Ъ production:
- Telegram Bot Token
- Typhoon AI API Key
- XDroid API Key

### 3. р╕Ыр╕┤р╕Фр╣Вр╕лр╕бр╕Ф Development

р╣Гр╕Щ `.env`:
```env
SSH_DEV_MODE=false
```

### 4. р╕Хр╕▒р╣Йр╕Зр╕Др╣Ир╕▓ HTTPS

р╕Цр╣Йр╕▓р╕бр╕╡ SSL Certificate р╣Гр╕лр╣Йр╕Ър╕▒р╕Зр╕Др╕▒р╕Ър╣Гр╕Кр╣Й HTTPS:

```php
// р╣Ар╕Юр╕┤р╣Ир╕бр╣Гр╕Щр╣Др╕Яр╕ер╣М index.php р╕лр╕гр╕╖р╕н config.php
if (!isset($_SERVER['HTTPS']) || $_SERVER['HTTPS'] !== 'on') {
    header("Location: https://" . $_SERVER['HTTP_HOST'] . $_SERVER['REQUEST_URI']);
    exit();
}
```

---

## ЁЯФз р╕Бр╕▓р╕гр╣Бр╕Бр╣Йр╣Др╕Вр╕Ыр╕▒р╕Нр╕лр╕▓р╕Чр╕▒р╣Ир╕зр╣Др╕Ы

### р╕Вр╣Йр╕нр╕Ьр╕┤р╕Фр╕Юр╕ер╕▓р╕Ф: "Error: .env file not found"

**р╕кр╕▓р╣Ар╕лр╕Хр╕╕:** р╣Др╕Яр╕ер╣М `.env` р╣Др╕бр╣Ир╣Др╕Фр╣Йр╕нр╕▒р╕Юр╣Вр╕лр╕ер╕Фр╕Вр╕╢р╣Йр╕Щр╣Вр╕ор╕к (р╕Лр╕╢р╣Ир╕Зр╕Фр╕╡р╣Бр╕ер╣Йр╕з!)

**р╣Бр╕Бр╣Йр╣Др╕В:**
```bash
# р╕кр╕гр╣Йр╕▓р╕Зр╣Др╕Яр╕ер╣М .env р╕Ър╕Щр╣Вр╕ор╕кр╣Вр╕Фр╕вр╕Хр╕гр╕З
cp .env.example .env
nano .env
# р╣Бр╕Бр╣Йр╣Др╕Вр╕Др╣Ир╕▓р╣Гр╕лр╣Йр╕Цр╕╣р╕Бр╕Хр╣Йр╕нр╕З
```

### р╕Вр╣Йр╕нр╕Ьр╕┤р╕Фр╕Юр╕ер╕▓р╕Ф: "Connection failed: Access denied"

**р╕кр╕▓р╣Ар╕лр╕Хр╕╕:** р╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Рр╕▓р╕Щр╕Вр╣Йр╕нр╕бр╕╣р╕ер╣Гр╕Щ `.env` р╣Др╕бр╣Ир╕Цр╕╣р╕Бр╕Хр╣Йр╕нр╕З

**р╣Бр╕Бр╣Йр╣Др╕В:**
1. р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ username/password р╣Гр╕Щ `.env`
2. р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕зр╣Ир╕▓ user р╕бр╕╡р╕кр╕┤р╕Чр╕Шр╕┤р╣Мр╣Ар╕Вр╣Йр╕▓р╕Цр╕╢р╕З database
3. р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕зр╣Ир╕▓ database р╕Цр╕╣р╕Бр╕кр╕гр╣Йр╕▓р╕Зр╣Бр╕ер╣Йр╕з

### р╕Вр╣Йр╕нр╕Ьр╕┤р╕Фр╕Юр╕ер╕▓р╕Ф: "Headers already sent"

**р╕кр╕▓р╣Ар╕лр╕Хр╕╕:** р╕бр╕╡ output р╕Бр╣Ир╕нр╕Щ session_start()

**р╣Бр╕Бр╣Йр╣Др╕В:** р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕зр╣Ир╕▓р╣Др╕Яр╕ер╣М PHP р╣Др╕бр╣Ир╕бр╕╡р╕Кр╣Ир╕нр╕Зр╕зр╣Ир╕▓р╕З (whitespace) р╕Бр╣Ир╕нр╕Щ `<?php`

---

## ЁЯУБ р╣Вр╕Др╕гр╕Зр╕кр╕гр╣Йр╕▓р╕Зр╣Др╕Яр╕ер╣Мр╕Чр╕╡р╣И Deploy

```
/public_html/ р╕лр╕гр╕╖р╕н /htdocs/
тФЬтФАтФА .env                    # р╕кр╕гр╣Йр╕▓р╕Зр╕Ър╕Щр╣Вр╕ор╕к (р╣Др╕бр╣Ир╕нр╕вр╕╣р╣Ир╣Гр╕Щ git)
тФЬтФАтФА .env.example            # template р╕кр╕│р╕лр╕гр╕▒р╕Ъ reference
тФЬтФАтФА .gitignore             # р╣Др╕Яр╕ер╣Мр╕Щр╕╡р╣Йр╕нр╕вр╕╣р╣Ир╣Гр╕Щ git
тФЬтФАтФА index.php
тФЬтФАтФА controller/
тФВ   тФФтФАтФА config.php         # р╕нр╣Ир╕▓р╕Щр╕Др╣Ир╕▓р╕Ир╕▓р╕Б .env
тФЬтФАтФА ... (р╣Др╕Яр╕ер╣Мр╕нр╕╖р╣Ир╕Щр╣Ж)
тФЬтФАтФА uploads/               # р╕кр╕гр╣Йр╕▓р╕Зр╕Ър╕Щр╣Вр╕ор╕к + chmod 777
тФЬтФАтФА logs/                  # р╕кр╕гр╣Йр╕▓р╕Зр╕Ър╕Щр╣Вр╕ор╕к + chmod 777
тФФтФАтФА sql/                   # backup database
```

---

## ЁЯФД р╕Вр╕▒р╣Йр╕Щр╕Хр╕нр╕Щ Deploy р╣Бр╕Ър╕Ъ Step-by-Step

1. **р╕Ър╕Щр╣Ар╕Др╕гр╕╖р╣Ир╕нр╕Зр╕Хр╕▒р╕зр╣Ар╕нр╕З:**
   ```bash
   git add .
   git commit -m "Prepare for production"
   git push origin main
   ```

2. **р╕Ър╕Щр╣Вр╕ор╕кр╕Ир╕гр╕┤р╕З:**
   ```bash
   # Clone р╕лр╕гр╕╖р╕н pull р╕Ир╕▓р╕Б git
   git clone https://github.com/yourusername/yourrepo.git .
   
   # р╕лр╕гр╕╖р╕нр╕Цр╣Йр╕▓р╕бр╕╡р╕нр╕вр╕╣р╣Ир╣Бр╕ер╣Йр╕з
   git pull origin main
   
   # р╕кр╕гр╣Йр╕▓р╕Зр╣Др╕Яр╕ер╣М .env
   cp .env.example .env
   nano .env
   
   # р╕кр╕гр╣Йр╕▓р╕Зр╣Вр╕Яр╕ер╣Ар╕Фр╕нр╕гр╣Мр╕Чр╕╡р╣Ир╕Ир╕│р╣Ар╕Ыр╣Зр╕Щ
   mkdir -p uploads logs backups
   chmod 777 uploads logs
   chmod 600 .env
   
   # Import р╕Рр╕▓р╕Щр╕Вр╣Йр╕нр╕бр╕╣р╕е
   mysql -u username -p database_name < sql/as2.sql
   ```

3. **р╕Чр╕Фр╕кр╕нр╕Ъ:**
   - р╣Ар╕Ыр╕┤р╕Фр╣Ар╕зр╣Зр╕Ър╣Др╕Лр╕Хр╣М
   - р╕Чр╕Фр╕кр╕нр╕Ъ login
   - р╕Чр╕Фр╕кр╕нр╕Ър╕Яр╕▒р╕Зр╕Бр╣Мр╕Кр╕▒р╕Щр╕Хр╣Ир╕▓р╕Зр╣Ж
   - р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ error log

---

## ЁЯЖШ р╕Хр╕┤р╕Фр╕Хр╣Ир╕н/р╕Вр╕нр╕Др╕зр╕▓р╕бр╕Кр╣Ир╕зр╕вр╣Ар╕лр╕ер╕╖р╕н

р╕Цр╣Йр╕▓р╕бр╕╡р╕Ыр╕▒р╕Нр╕лр╕▓:
1. р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ `logs/error.log` р╕лр╕гр╕╖р╕н `logs/app.log`
2. р╣Ар╕Ыр╕┤р╕Ф PHP error display р╕Кр╕▒р╣Ир╕зр╕Др╕гр╕▓р╕з (р╕гр╕░р╕зр╕▒р╕З! р╣Гр╕Кр╣Йр╣Бр╕Др╣Ир╕Хр╕нр╕Щ debug)
3. р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ error_log р╕Вр╕нр╕Зр╣Вр╕ор╕к

---

**р╕лр╕бр╕▓р╕вр╣Ар╕лр╕Хр╕╕:** р╣Др╕Яр╕ер╣Мр╕Щр╕╡р╣Йр╕кр╕гр╣Йр╕▓р╕Зр╣Ар╕бр╕╖р╣Ир╕н 30 р╕бр╕Бр╕гр╕▓р╕Др╕б 2026 - р╕нр╕▒р╕Юр╣Ар╕Фр╕Хр╕ер╣Ир╕▓р╕кр╕╕р╕Ф
